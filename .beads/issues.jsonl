{"id":"langley-0ul","title":"RISK: WebSocket auth will need update for OAuth flow","description":"Current WebSocket auth (internal/ws/websocket.go:225-235) accepts token in query param. OAuth flow implications:\\n1. WebSocket needs to accept access_token, not client_secret\\n2. What happens when access_token expires mid-connection?\\n3. Should WebSocket connections require re-auth on token refresh?\\n4. Test coverage for OAuth WebSocket auth needed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:39:07.5879892-05:00","updated_at":"2026-01-25T17:20:40.6305223-05:00","closed_at":"2026-01-25T17:20:40.6305223-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-12r","title":"HIGH: Certificate serial numbers use predictable timestamps","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T07:19:57.8711922-05:00","updated_at":"2026-01-24T18:38:22.8569407-05:00","closed_at":"2026-01-24T18:38:22.8569407-05:00","close_reason":"Already fixed. internal/tls/ca.go:117-120 uses generateRandomSerial() for cryptographically random serial numbers."}
{"id":"langley-15t","title":"REDACTION GAP: No redaction for Gemini API keys (AIza*)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T12:23:17.1771208-05:00","updated_at":"2026-01-24T16:14:27.6402407-05:00","closed_at":"2026-01-24T16:14:27.6402407-05:00","close_reason":"Fixed in Phase 2.2.5 - Gemini pattern"}
{"id":"langley-1c7","title":"3.2 Fix Analytics view","description":"Analytics view is broken (needs reproduction and screenshot).\n\nSteps:\n1. Screenshot current broken state\n2. Identify root cause\n3. Fix it\n4. Screenshot working state\n5. Manual verification passes\n\nAcceptance:\n- All analytics charts render correctly\n- Stats cards show accurate data\n- Daily cost chart displays properly","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-25T17:21:44.8774957-05:00","updated_at":"2026-01-25T17:43:27.8505075-05:00","closed_at":"2026-01-25T17:43:27.8505075-05:00","close_reason":"Fixed: Added width: 100% to .container CSS. Root cause was flex column layout causing container to shrink to content width."}
{"id":"langley-1sf","title":"LOW: Express 5.x is still relatively new - may have undiscovered vulnerabilities","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-24T07:21:54.5366606-05:00","updated_at":"2026-01-24T16:16:00.2026439-05:00","closed_at":"2026-01-24T16:16:00.2026439-05:00","close_reason":"N/A - Langley is Go-based, not Node/Express"}
{"id":"langley-1ug","title":"HIGH: Unix socket created with world-readable permissions (0666)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T07:19:51.326373-05:00","updated_at":"2026-01-24T18:38:51.33409-05:00","closed_at":"2026-01-24T18:38:51.33409-05:00","close_reason":"False positive. No Unix socket in codebase - all listeners use TCP (main.go:190, mitm.go:136, proxy.go:84)."}
{"id":"langley-269","title":"2.4.5: FTS5 full-text search on bodies","description":"Research spike to find right setup.\n\nGoal: Search captured request/response bodies.\n\nQuestions to answer:\n- Does modernc/sqlite include FTS5? (PoC required per PHASE2.md)\n- If not, fallback to LIKE queries acceptable?\n- Index redacted bodies only (security)\n- How to handle redaction pattern changes on existing data?\n- Search UI/UX in dashboard?\n\nFrom PHASE2.md:\n```go\n// Verify FTS5 support\n_, err := db.Exec(`CREATE VIRTUAL TABLE test_fts USING fts5(content)`)\n```\n\nAcceptance: PoC confirms FTS5 works or documents fallback.","notes":"PoC COMPLETE: FTS5 confirmed working with modernc/sqlite. TestFTS5Support passes. Next: Add flows_fts table, /api/flows/search endpoint, search UI.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:04:33.7711789-05:00","updated_at":"2026-01-24T18:14:40.1150226-05:00","closed_at":"2026-01-24T18:14:40.1150226-05:00","labels":["phase2","spike"]}
{"id":"langley-2fa","title":"SSE events fail to save: FOREIGN KEY constraint failed","description":"When proxying streaming responses, SSE events fail to save with foreign key constraint error.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T11:59:01.6000636-05:00","updated_at":"2026-01-25T13:58:11.3319491-05:00","closed_at":"2026-01-25T13:25:00-05:00","labels":["bug"]}
{"id":"langley-2kp","title":"Export UI: Frontend export button in Flows view","description":"Add export UI to the Flows view in the dashboard.\n\n- Export button/dropdown in Flows view toolbar\n- Format selection (JSON/NDJSON/CSV)\n- Include bodies toggle/checkbox\n- Triggers download via window.location or fetch+Blob\n- Passes current filter state to export endpoint\n\n~50 LOC frontend. Depends on langley-3d4 and langley-boc.\n\nRef: .docs/spikes/export-flows.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T10:56:33.7833154-05:00","updated_at":"2026-01-25T13:58:35.6859612-05:00","closed_at":"2026-01-25T13:58:35.6859612-05:00","close_reason":"Added export dropdown with confirmation dialog in frontend","labels":["frontend","phase2"],"dependencies":[{"issue_id":"langley-2kp","depends_on_id":"langley-boc","type":"blocks","created_at":"2026-01-25T10:57:22.63123-05:00","created_by":"unknown"}]}
{"id":"langley-2li","title":"2.4.7: Implement keyboard shortcuts","description":"Implement keyboard shortcuts per .docs/spikes/keyboard-shortcuts.md:\n- j/k for list navigation with selectedIndex state\n- / focuses search\n- Escape closes panels\n- ? shows help modal\n- 1-6 switches views\n- ARIA listbox pattern for accessibility\n- Vanilla React (no library)\n- ~150 LOC\n\nFollows from research in langley-ewr.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T07:40:51.8344266-05:00","updated_at":"2026-01-25T10:29:45.7671362-05:00","closed_at":"2026-01-25T10:29:45.7671362-05:00","close_reason":"Closed","labels":["frontend","phase2"]}
{"id":"langley-2lz","title":"3.1.1 UX Review: Global features (auth, keyboard, theme, WebSocket)","description":"Verify global/cross-cutting features:\n\nG1: Auth - token entry (valid → loads, invalid → error)\nG2: Theme toggle (switches, persists on reload)\nG3: Keyboard j/k navigation (up/down in lists, boundary behavior)\nG4: Keyboard / focus search (focuses host filter from any view)\nG5: Keyboard 1-6 view switch (works from any view)\nG6: Keyboard Enter select (opens detail/drills down)\nG7: Keyboard Esc close (closes detail panel)\nG8: WebSocket live updates (new flow appears, reconnect after disconnect)\nG9: Help overlay ? (shows shortcuts, Esc closes)\n\nAcceptance:\n- Manual verification of each feature\n- Document bugs as beads\n- Playwright test coverage","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-25T16:48:18.3458019-05:00","updated_at":"2026-01-25T17:32:03.0823112-05:00"}
{"id":"langley-2qj","title":"Windows: TLS revocation check fails for dynamic certs","description":"On Windows, clients using Schannel (native TLS) fail to connect through the proxy.\n\n**Symptoms:**\n- curl: explicit error `CRYPT_E_NO_REVOCATION_CHECK (0x80092012)`\n- Claude CLI: hangs silently (may be same root cause, unconfirmed)\n\n**Workaround:**\n- curl: `--ssl-no-revoke` flag works\n- Claude CLI: unknown\n\n**Likely cause:**\nLangley's dynamically generated certificates lack CRL Distribution Points and OCSP responder extensions. Windows Schannel requires these for revocation checking.\n\n**Potential fixes:**\n1. Add CRL/OCSP extensions to generated certs (complex)\n2. Document workaround for Windows users\n3. Investigate if there's a way to mark certs as \"no revocation check needed\"\n\n**Repro:**\n```powershell\ncertutil -addstore -f \"ROOT\" $env:APPDATA\\langley\\certs\\ca.crt\n$env:HTTPS_PROXY=\"http://localhost:9090\"\ncurl -x http://localhost:9090 https://httpbin.org/get  # fails\ncurl --ssl-no-revoke -x http://localhost:9090 https://httpbin.org/get  # works\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T11:43:46.981432-05:00","updated_at":"2026-01-25T11:58:46.5163689-05:00","closed_at":"2026-01-25T11:58:46.5163689-05:00","close_reason":"Fixed by adding CRL Distribution Point to generated certs and serving CRL at /crl/ca.crl","labels":["bug","windows"]}
{"id":"langley-3d4","title":"Export API: Core endpoint with NDJSON streaming","description":"Implement GET /api/flows/export with NDJSON streaming.\n\n- Add export handler in internal/api/api.go\n- NDJSON streaming writer (primary format for large exports)\n- Reuse existing ListFlows with pagination/batching\n- Summary fields only (no bodies)\n- Response headers: Content-Type, Content-Disposition, X-Export-Row-Count\n- Reuse existing filter params (host, task_id, model, start_time, end_time)\n\n~150 LOC. Foundation for Tasks 2 and 3.\n\nRef: .docs/spikes/export-flows.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T10:56:10.5866389-05:00","updated_at":"2026-01-25T11:43:28.6178606-05:00","closed_at":"2026-01-25T11:43:28.6178606-05:00","close_reason":"Implemented GET /api/flows/export with NDJSON streaming. Tested and working.","labels":["api","phase2"]}
{"id":"langley-3ux","title":"LOW: HTTP/1.1 server timeouts disabled (timeout=0) creates connection exhaustion risk","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-24T07:22:07.8190681-05:00","updated_at":"2026-01-24T18:45:16.4533752-05:00","closed_at":"2026-01-24T18:45:16.4533752-05:00","close_reason":"By design. Read/Write timeouts disabled for SSE streaming (LLM responses can take minutes). IdleTimeout=120s handles orphaned connections. Comment in proxy.go:73 explains rationale."}
{"id":"langley-4fa","title":"LOW: Langley design lacks input validation specs for config file parsing","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-24T07:22:14.695628-05:00","updated_at":"2026-01-24T18:45:22.6759727-05:00","closed_at":"2026-01-24T18:45:22.6759727-05:00","close_reason":"Not needed. Config uses strict YAML parsing with typed structs (internal/config/config.go). Invalid fields cause parse errors. Default values are safe."}
{"id":"langley-4m0","title":"2.3.2: Bedrock provider","description":"Implement AWS Bedrock provider.\n\nDetection: bedrock-runtime.*.amazonaws.com\n\nUsage parsing:\n- Wrapped in Bedrock envelope\n- inputTokenCount, outputTokenCount\n- Model ID in different location\n\nPricing: Claude via Bedrock rates (different from direct API)\n\nBlocked by: langley-vdn (base abstraction)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T01:03:52.5566079-05:00","updated_at":"2026-01-25T07:30:11.4697331-05:00","closed_at":"2026-01-25T07:30:11.4697331-05:00","close_reason":"Bedrock provider implemented. Supports Converse API, InvokeModel API, and Claude passthrough formats. Regional endpoint detection. Tests passing.","labels":["phase2","provider"]}
{"id":"langley-4ty","title":"BREAKING-CHANGE: LANGLEY_AUTH_TOKEN env var interaction unclear","description":"Phase 3.3 says 'Existing LANGLEY_AUTH_TOKEN env var still works as override for automation'. Unclear:\\n1. If env var set, does OAuth flow still work?\\n2. Can both auth methods coexist?\\n3. What takes precedence - env token or OAuth access_token?\\n4. How does 'automation' scenario differ from dashboard scenario?","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:38:54.7956328-05:00","updated_at":"2026-01-25T17:20:46.0691239-05:00","closed_at":"2026-01-25T17:20:46.0691239-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-4vz","title":"HIGH: Request body fully buffered before proxy - memory exhaustion with large uploads","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T07:20:11.1519461-05:00","updated_at":"2026-01-24T18:39:28.8113283-05:00","closed_at":"2026-01-24T18:39:28.8113283-05:00","close_reason":"Mitigated. Body buffering is limited by BodyMaxBytes (default 1MB) via io.LimitReader in mitm.go:177,405. Memory exhaustion prevented by size cap."}
{"id":"langley-549","title":"Frontend dev server cannot be gracefully stopped on Windows","description":"When running 'make dev-frontend' on Windows, the Vite dev server cannot be stopped with Ctrl+C. The terminal shows 'Terminate batch job (Y/N)?' but answering Y does not cleanly stop it - the terminal becomes unresponsive and must be force killed.\n\nThis happens because:\n1. Make spawns a subprocess for npm/vite\n2. Ctrl+C signal handling on Windows does not propagate cleanly to child processes\n3. The terminal gets into a bad state after the parent process exits\n\nRepro:\n1. Run 'make dev-frontend'\n2. Press Ctrl+C\n3. Answer Y to 'Terminate batch job'\n4. Terminal becomes unresponsive, must close and reopen","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T12:58:54.8319193-05:00","updated_at":"2026-01-25T14:26:52.9769057-05:00","closed_at":"2026-01-25T14:26:52.9769057-05:00","close_reason":"Added make stop workaround - Windows make doesn't propagate Ctrl+C"}
{"id":"langley-5m7","title":"3.3 Token UX: Origin + Cookie auth","description":"Replace manual token copy/paste with automatic Origin + Cookie auth.\n\nDesign:\n1. Check Origin header is localhost (http://localhost:*, http://127.0.0.1:*)\n2. If no origin (non-browser): require Authorization header (CLI/automation)\n3. If valid origin + no cookie: set HTTP-only session cookie, process request\n4. If valid origin + valid cookie: process request\n\nCookie spec:\n- Name: langley_session\n- HttpOnly: true\n- Secure: false (localhost)\n- SameSite: Strict\n- Path: /\n\nSecurity layers:\n- Layer 1: Origin header must be localhost\n- Layer 2: Valid session cookie required\n- Layer 3: HTTP-only prevents XSS\n- Layer 4: SameSite=Strict prevents CSRF\n- Automation: Authorization: Bearer \u003cLANGLEY_AUTH_TOKEN\u003e still works\n\nAcceptance:\n- [ ] Non-localhost origins rejected with 401\n- [ ] First localhost request auto-sets HTTP-only cookie\n- [ ] Subsequent requests authenticated via cookie\n- [ ] No JavaScript token handling in dashboard\n- [ ] No manual token copy/paste required\n- [ ] LANGLEY_AUTH_TOKEN header still works for CLI/automation\n- [ ] WebSocket auth updated to use same mechanism\n- [ ] Playwright test for auth flow","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-25T17:22:04.241668-05:00","updated_at":"2026-01-25T17:22:04.241668-05:00"}
{"id":"langley-5rz","title":"REDACTION: Body redaction regex runs on full body - ReDoS possible with crafted input","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T12:24:55.3876647-05:00","updated_at":"2026-01-24T16:15:18.9547077-05:00","closed_at":"2026-01-24T16:15:18.9547077-05:00","close_reason":"Fixed in Phase 2.2.12 - 1MB input limit"}
{"id":"langley-6e4","title":"Doc: Playwright test count incorrect (says 34, actual 48)","description":".docs/team_task2.md states '34 tests' but web/tests/dashboard.spec.ts contains 48 test() blocks.\n\nLocation: .docs/team_task2.md:52\n\nFix: Update doc to reflect actual test count.\n\nNote: .docs is gitignored so this is local-only documentation.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-25T15:49:03.3737844-05:00","updated_at":"2026-01-25T16:12:43.7673702-05:00","closed_at":"2026-01-25T16:12:43.7673702-05:00","close_reason":"Closed"}
{"id":"langley-6m4","title":"AUTH: Auth token logged in debug output (api.go:80) - redact before logging","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T12:24:06.1221673-05:00","updated_at":"2026-01-24T16:14:16.7311496-05:00","closed_at":"2026-01-24T16:14:16.7311496-05:00","close_reason":"Fixed in Phase 2.2.6 - logs only length"}
{"id":"langley-6uw","title":"3.1.5 UX Review: Tools view","description":"Verify Tools view features:\n\nO1: Tools table (all columns, empty state)\nO2: Success rate color (Green ≥90%, Yellow ≥70%, Red \u003c70%; test 0% and 100%)\nO3: Avg duration (formatted in ms, zero duration)\n\nAcceptance:\n- Manual verification of each feature\n- Document bugs as beads\n- Playwright test coverage","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-25T16:49:16.2530181-05:00","updated_at":"2026-01-25T17:32:24.9775103-05:00"}
{"id":"langley-6y3","title":"DESIGN-QUESTION: Why OAuth client credentials over simpler auto-auth?","description":"Current system generates random token on startup. Proposed OAuth adds complexity. Alternative approaches:\\n1. Auto-inject token via HTTP-only cookie set by server\\n2. Use same-origin policy - no auth needed if server binds to localhost only\\n3. Short-lived tokens with auto-refresh via server-set cookie\\n\\nNeed justification for OAuth complexity over simpler alternatives.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-25T16:38:42.0282525-05:00","updated_at":"2026-01-25T17:21:18.8101241-05:00","closed_at":"2026-01-25T17:21:18.8101241-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-6z6","title":"Export: JSON exporter buffers all flows in memory (not streaming)","description":"JSONExporter stores all flows in e.flows slice and only writes on WriteFooter(). For large exports this could cause OOM.\n\nLocation: internal/api/export.go:122-170\n\nOptions:\n1. Document limitation (JSON format requires full array, can't stream)\n2. Add max_rows limit for JSON format\n3. Use streaming JSON array format with leading comma\n\nTDD approach:\n1. Write test exporting 10k+ flows as JSON, measure memory\n2. Decide on approach\n3. Implement fix\n4. Verify memory bounded\n\nAcceptance: JSON export either streams or has documented memory limit","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T15:48:07.0586451-05:00","updated_at":"2026-01-25T16:02:55.4049288-05:00","closed_at":"2026-01-25T16:02:55.4049288-05:00","close_reason":"Closed"}
{"id":"langley-75p","title":"AUTH: Token passed in URL query param (token=) is logged and may leak in server logs","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T12:23:46.1055245-05:00","updated_at":"2026-01-24T16:14:22.1852925-05:00","closed_at":"2026-01-24T16:14:22.1852925-05:00","close_reason":"Fixed in Phase 2.2.7 - returns 400"}
{"id":"langley-79u","title":"AUTH: Bearer token comparison vulnerable to timing attack - use constant-time compare","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T12:23:56.2036283-05:00","updated_at":"2026-01-24T16:15:02.5645929-05:00","closed_at":"2026-01-24T16:15:02.5645929-05:00","close_reason":"Fixed in Phase 2.2.10 - subtle.ConstantTimeCompare"}
{"id":"langley-7ln","title":"2.4.6: Implement dark/light theme toggle","description":"Implement theme toggle with CIA.gov-inspired palette:\n\nDark theme (default):\n- Background: #161618 (dark navy/black)\n- Accent: #e21a41 (red)\n- Text: #fff\n- Grid/borders: #414143\n- Alt sections: #1a1a1c\n\nLight theme:\n- Background: #efeff3 (light gray)\n- Accent: #e21a41 (red stays consistent)\n- Text: #000\n- Grid/borders: #d0d0d4\n\nImplementation per .docs/spikes/theme-toggle.md:\n- CSS variables with [data-theme] attribute\n- localStorage persistence\n- System preference as default\n- Toggle in header\n- ~40 LOC\n\nFollows from research in langley-7rr.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T07:40:39.7885499-05:00","updated_at":"2026-01-25T07:45:54.6263613-05:00","closed_at":"2026-01-25T07:45:54.6263613-05:00","close_reason":"Theme toggle implemented with CIA.gov-inspired palette. Dark theme default (#161618 bg, #e21a41 accent). Light theme available. localStorage persistence, system preference detection.","labels":["frontend","phase2"]}
{"id":"langley-7rr","title":"2.4.6: Dark/light theme toggle","description":"Needs planning.\n\nGoal: User can switch between dark and light themes in dashboard.\n\nPlanning needed:\n- CSS variables approach vs class-based?\n- Persist preference (localStorage)?\n- System preference detection (prefers-color-scheme)?\n- Which components need theme-aware styling?\n- Toggle UI placement?\n\nCurrent: Dashboard uses dark theme only (see web/src/index.css).\n\nAcceptance: Plan approved, theme system designed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:04:48.995211-05:00","updated_at":"2026-01-24T19:03:32.7966481-05:00","closed_at":"2026-01-24T19:03:32.7966481-05:00","close_reason":"Planning complete. Documented in .docs/spikes/theme-toggle.md. Key decisions: CSS variables with [data-theme] attribute (already using vars), localStorage persistence, system preference as default, toggle in header next to connection status. Light palette uses Tailwind slate scale inverted. ~40 LOC to implement.","labels":["phase2","planning"]}
{"id":"langley-8de","title":"2.3: Multi-provider support (Bedrock, OpenAI, Gemini)","description":"Parent issue for multi-provider support.\n\nSub-tasks:\n- langley-vdn: Provider interface + Anthropic extraction (P1, unblocks others)\n- langley-xj8: OpenAI provider\n- langley-4m0: Bedrock provider  \n- langley-m1i: Gemini provider\n\nOriginal scope from PHASE2.md:\n- Provider interface: DetectProvider, ParseUsage, GetPricing, StreamHandler\n- Implement: Claude (extract), OpenAI, Bedrock, Gemini providers\n- Pricing: go:embed pricing.json + local overrides","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:03:45.7801049-05:00","updated_at":"2026-01-25T07:34:05.6423802-05:00","closed_at":"2026-01-25T07:34:05.6423802-05:00","close_reason":"Multi-provider support complete. All four providers implemented: Anthropic (existing), OpenAI, Bedrock, Gemini. Registry wired, tests passing.","labels":["feature","full-cycle","phase2"]}
{"id":"langley-8wb","title":"DATA EXPOSURE: SQLite database file has no explicit permissions set - inherits parent dir","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T12:24:45.2458482-05:00","updated_at":"2026-01-24T16:14:57.1018707-05:00","closed_at":"2026-01-24T16:14:57.1018707-05:00","close_reason":"Fixed in Phase 2.2.11 - 0600 permissions on Unix"}
{"id":"langley-93c","title":"SEC-LOW: localStorage credential storage lacks encryption","description":"Phase 3.3 stores client_secret in localStorage. While acceptable for localhost-only, this means:\\n1. Any JS on the same origin can read credentials\\n2. XSS on dashboard exposes long-lived credentials\\n3. Browser extensions with storage access can read them\\n4. Consider sessionStorage or memory-only as alternative","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-25T16:37:51.1167508-05:00","updated_at":"2026-01-25T17:21:29.7366165-05:00","closed_at":"2026-01-25T17:21:29.7366165-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-9bm","title":"3.1.4 UX Review: Tasks view","description":"Verify Tasks view features:\n\nT1: Task list table (all columns, empty state)\nT2: Task ID display (truncated with ..., full on hover?)\nT3: Click → filter flows (sets filter, switches to Flows view)\nT4: Duration display (formatted ms/s/m, very long duration)\nT5: Cost display (formatted currency, zero cost)\n\nAcceptance:\n- Manual verification of each feature\n- Document bugs as beads\n- Playwright test coverage","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-25T16:49:02.1964279-05:00","updated_at":"2026-01-25T17:32:19.5127527-05:00"}
{"id":"langley-9qh","title":"CRITICAL: No credential redaction in Clancy reference - API keys stored in plaintext","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-24T07:19:17.8536632-05:00","updated_at":"2026-01-24T16:16:11.1140904-05:00","closed_at":"2026-01-24T16:16:11.1140904-05:00","close_reason":"N/A - Clancy is a reference project, not part of Langley"}
{"id":"langley-9vd","title":"INPUT: SSE parser has no max buffer size - malicious response can cause OOM (addresses Phase 1.5.2)","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-24T12:24:16.6962603-05:00","updated_at":"2026-01-24T16:14:00.2826722-05:00","closed_at":"2026-01-24T16:14:00.2826722-05:00","close_reason":"Fixed in Phase 1.5.2 - SSE parser limits"}
{"id":"langley-9xy","title":"3.1.2 UX Review: Flows view","description":"Verify Flows view features:\n\nF1: Flow list display (method, host, path, status, tokens, cost; empty state)\nF2: Filter by host (real-time filter, clear shows all)\nF3: Filter by task ID (filters, invalid → empty)\nF4: Filter by status (All/Success/Error dropdown)\nF5: Click flow → detail panel\nF6: Flow detail: headers (request/response, missing → graceful)\nF7: Flow detail: bodies (request/response, large body handling)\nF8: Flow detail: metadata (tokens, cost, duration, model)\nF9: SSE badge (shows for streaming, hidden for non-SSE)\nF10: Export NDJSON (downloads file, respects filters)\nF11: Export JSON (downloads file, \u003e10k limit warning)\nF12: Export CSV (downloads file, \u003e10k limit warning)\nF13: Export confirmation (accurate count matches actual)\n\nAcceptance:\n- Manual verification of each feature\n- Document bugs as beads\n- Playwright test coverage","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-25T16:48:34.0428984-05:00","updated_at":"2026-01-25T17:32:08.5442837-05:00"}
{"id":"langley-a4m","title":"Claude CLI streaming requests fail through proxy","description":"Claude CLI hangs when making streaming /v1/messages requests through the proxy.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T12:16:10.4192177-05:00","updated_at":"2026-01-25T13:58:11.3341796-05:00","closed_at":"2026-01-25T13:25:00-05:00","labels":["bug","streaming"]}
{"id":"langley-a61","title":"MEDIUM: SQLite WAL without proper locking may corrupt under concurrent access","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:21:20.879977-05:00","updated_at":"2026-01-24T18:40:35.4384733-05:00","closed_at":"2026-01-24T18:40:35.4384733-05:00","close_reason":"Not an issue. SQLite properly configured: WAL mode, SetMaxOpenConns(1) for single-writer pattern, busy_timeout=5000ms. This is correct SQLite concurrency handling."}
{"id":"langley-aev","title":"LOW: Langley design host binding to localhost provides no guarantee against port forwarding","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-24T07:22:26.3941741-05:00","updated_at":"2026-01-24T18:45:28.6015265-05:00","closed_at":"2026-01-24T18:45:28.6015265-05:00","close_reason":"Acceptable. Localhost binding + auth token + rate limiting provides defense in depth. Port forwarding is user-initiated action outside tool's threat model."}
{"id":"langley-ag6","title":"LOW: refraction-networking/utls is a third-party fork of Go crypto/tls","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-24T07:22:00.9530939-05:00","updated_at":"2026-01-24T18:44:36.3122562-05:00","closed_at":"2026-01-24T18:44:36.3122562-05:00","close_reason":"Acceptable risk. utls is widely used for TLS fingerprinting. The proxy uses it for JA3/JA4 detection, not security-critical operations."}
{"id":"langley-aj4","title":"PHASE3-REVIEW: Section 3.3 OAuth client credentials flow - security audit findings","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:37:01.7358689-05:00","updated_at":"2026-01-25T17:21:13.3425395-05:00","closed_at":"2026-01-25T17:21:13.3425395-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-aub","title":"3.5 OpenAPI specification","description":"Create machine-readable API documentation.\n\nEndpoints to document:\n- GET /api/flows (list, paginated, filterable)\n- GET /api/flows/count\n- GET /api/flows/export\n- GET /api/flows/{id}\n- GET /api/flows/{id}/events\n- GET /api/flows/{id}/anomalies\n- GET /api/stats\n- GET /api/analytics/tasks\n- GET /api/analytics/tasks/{id}\n- GET /api/analytics/tools\n- GET /api/analytics/cost/daily\n- GET /api/analytics/cost/model\n- GET /api/analytics/anomalies\n- GET /api/health\n- POST /api/checkpoint\n- GET /api/settings\n- PUT /api/settings\n- WS /ws\n\nAcceptance:\n- [ ] OpenAPI 3.0 spec created\n- [ ] All endpoints documented with request/response schemas\n- [ ] Validated against actual API behavior\n- [ ] Added to repo (openapi.yaml or similar)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:22:37.5068674-05:00","updated_at":"2026-01-25T17:22:37.5068674-05:00"}
{"id":"langley-awl","title":"MEDIUM: CA certificate 10-year validity is excessive","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:20:33.3388069-05:00","updated_at":"2026-01-24T18:40:10.2427883-05:00","closed_at":"2026-01-24T18:40:10.2427883-05:00","close_reason":"Already fixed. internal/tls/ca.go:22 shows CAValidityYears reduced from 10 to 2 years."}
{"id":"langley-bma","title":"HIGH: In-memory certificate cache never evicts - memory exhaustion possible","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T07:20:04.4489973-05:00","updated_at":"2026-01-24T18:38:28.6657028-05:00","closed_at":"2026-01-24T18:38:28.6657028-05:00","close_reason":"Already fixed. internal/tls/certcache.go implements LRU cache with evictOldest() and configurable maxSize (default 1000)."}
{"id":"langley-boc","title":"Export API: Format abstraction + CSV/JSON writers","description":"Add FlowExporter interface and additional format writers.\n\n- Define FlowExporter interface for format abstraction\n- JSON writer (array format for small exports, with meta object)\n- CSV writer (summary fields, 10k row limit)\n- Add include_bodies support across all formats\n- Add format query param parsing (json/ndjson/csv)\n- X-Export-Truncated-Bodies header when bodies included\n\n~100 LOC. Builds on langley-3d4.\n\nRef: .docs/spikes/export-flows.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T10:56:22.5896405-05:00","updated_at":"2026-01-25T13:58:26.3447559-05:00","closed_at":"2026-01-25T13:58:26.3447559-05:00","close_reason":"Implemented FlowExporter interface with NDJSON/JSON/CSV exporters","labels":["api","phase2"],"dependencies":[{"issue_id":"langley-boc","depends_on_id":"langley-3d4","type":"blocks","created_at":"2026-01-25T10:57:17.1824395-05:00","created_by":"unknown"}]}
{"id":"langley-c65","title":"3.1.6 UX Review: Anomalies view","description":"Verify Anomalies view features:\n\nN1: Anomaly list (shows anomalies, empty state 'No anomalies')\nN2: Severity badge (color-coded, all severity levels)\nN3: View Flow link (opens flow detail, deleted flow → graceful)\nN4: Badge in nav (shows count when \u003e0, updates live)\n\nAcceptance:\n- Manual verification of each feature\n- Document bugs as beads\n- Playwright test coverage","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-25T16:49:30.2053886-05:00","updated_at":"2026-01-25T17:32:30.4309916-05:00"}
{"id":"langley-d49","title":"SEC-MEDIUM: Race condition in credential registration flow","description":"Phase 3.3 states GET /auth 'Generates new credentials if none exist for this client'. Without proper synchronization:\\n1. Multiple concurrent requests could generate duplicate credentials\\n2. No client identifier specified - how does server know 'this client'?\\n3. Missing atomicity guarantees for credential storage","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:37:38.5757704-05:00","updated_at":"2026-01-25T17:21:02.4252847-05:00","closed_at":"2026-01-25T17:21:02.4252847-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-d7y","title":"REDACTION GAP: JSON-escaped keys not handled - \\\"x-api-key\\\" bypasses header redaction","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-24T12:23:26.8742891-05:00","updated_at":"2026-01-24T16:14:05.7583711-05:00","closed_at":"2026-01-24T16:14:05.7583711-05:00","close_reason":"Fixed in Phase 2.2 P0 - JSON-escaped key redaction"}
{"id":"langley-db5","title":"1.5: Race detection verification","description":"Verification gap identified by Reba.\n\nIssue: Phase 1.5 acceptance requires 'go test -race ./...' to pass, but this requires CGO which is unavailable on Windows dev environment.\n\nOptions:\n1. Document Linux/macOS CI run where race detection passed\n2. Run manually on non-Windows environment\n3. Set up GitHub Actions with race detection\n4. Mark as known limitation\n\nAcceptance: Either race detection passes on some verified environment, or gap is documented as known limitation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:14:41.7489739-05:00","updated_at":"2026-01-24T19:07:13.9487326-05:00","closed_at":"2026-01-24T19:07:13.9487326-05:00","close_reason":"Created .github/workflows/ci.yml with race detection. Runs 'go test -race ./...' on ubuntu-latest with Go 1.25. Also includes golangci-lint and build verification. Race detection will be verified on every push/PR to main.","labels":["phase2","testing","verification-gap"]}
{"id":"langley-dc8","title":"MEDIUM: WebSocket messages broadcast to all clients without flow-level isolation","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:20:47.6573347-05:00","updated_at":"2026-01-24T18:41:55.4339026-05:00","closed_at":"2026-01-24T18:41:55.4339026-05:00","close_reason":"By design. Local dev tool dashboard broadcasts to all connected clients intentionally - single user typically viewing all proxy traffic. Flow-level isolation not needed."}
{"id":"langley-dl9","title":"SPEC-GAP: Token refresh timing not specified","description":"Phase 3.3 says 'Dashboard checks expires_at before requests, If expired/expiring soon...' but doesn't specify:\\n1. What is 'expiring soon' threshold? 5 min? 1 hour?\\n2. What if refresh fails mid-session?\\n3. Should there be exponential backoff on refresh failures?\\n4. UI feedback when auth session expires?","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-25T16:38:17.2006619-05:00","updated_at":"2026-01-25T17:21:24.2911701-05:00","closed_at":"2026-01-25T17:21:24.2911701-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-dst","title":"SPEC-GAP: Acceptance criteria lack specific security test cases","description":"Phase 3.3 acceptance criteria missing:\\n1. Test that non-localhost origins are rejected\\n2. Test that invalid client_id/client_secret returns 401\\n3. Test that expired access_token is rejected\\n4. Test constant-time comparison for credential validation\\n5. Test that client_secret is stored securely server-side","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:38:29.2021519-05:00","updated_at":"2026-01-25T17:20:51.5472839-05:00","closed_at":"2026-01-25T17:20:51.5472839-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-du7","title":"MEDIUM: RSA 2048-bit keys may be considered weak for long-lived CA certificates","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:20:54.4896553-05:00","updated_at":"2026-01-24T18:42:01.4489683-05:00","closed_at":"2026-01-24T18:42:01.4489683-05:00","close_reason":"Acceptable for use case. RSA-2048 is NIST-approved until 2030. CA cert validity is only 2 years. For local dev proxy, this key strength is appropriate."}
{"id":"langley-ebx","title":"3.4 Architecture documentation","description":"Create contributor documentation for the codebase.\n\nContents:\n- Project structure overview\n- Data flow (request → proxy → store → UI)\n- Key abstractions (Store, Provider, Redactor, etc.)\n- How to add a new provider\n- How to add a new API endpoint\n- Testing strategy\n\nLocation: ARCHITECTURE.md or docs/\n\nAcceptance:\n- [ ] New contributor can understand codebase from docs\n- [ ] Data flow diagram included\n- [ ] Key interfaces documented\n- [ ] Extension points explained","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:22:20.5559512-05:00","updated_at":"2026-01-25T17:22:20.5559512-05:00"}
{"id":"langley-epo","title":"MEDIUM: Langley redaction patterns may miss embedded credentials in JSON values","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:21:07.8757289-05:00","updated_at":"2026-01-24T16:15:13.4902021-05:00","closed_at":"2026-01-24T16:15:13.4902021-05:00","close_reason":"Fixed in Phase 2.2.13 - JSON credential field redaction"}
{"id":"langley-ewr","title":"2.4.7: Keyboard shortcuts (j/k, / search)","description":"Needs research.\n\nGoal: Vim-style navigation and quick search access.\n\nResearch needed:\n- j/k for list navigation (flows, tasks, etc.)\n- / to focus search\n- Escape to clear/close\n- ? for help overlay?\n- Conflict with browser shortcuts?\n- Accessibility considerations?\n- Library vs vanilla implementation?\n\nAcceptance: Research complete, approach documented.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:05:04.6082548-05:00","updated_at":"2026-01-24T19:01:30.0772226-05:00","closed_at":"2026-01-24T19:01:30.0772226-05:00","close_reason":"Research complete. Documented in .docs/spikes/keyboard-shortcuts.md. Key decisions: vanilla React (no library), j/k for list navigation with selectedIndex state, / focuses search, Escape closes panels, ? shows help modal, 1-6 switches views. ARIA listbox pattern for accessibility. ~150 LOC to implement.","labels":["phase2","research"]}
{"id":"langley-in0","title":"MEDIUM: Clancy flow storage has no eviction - unbounded memory growth","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:20:40.7266515-05:00","updated_at":"2026-01-24T18:40:57.1202884-05:00","closed_at":"2026-01-24T18:40:57.1202884-05:00","close_reason":"False positive. No 'Clancy' code exists in codebase - likely refers to removed/nonexistent component."}
{"id":"langley-k5x","title":"SEC-HIGH: GET /auth returns client_secret in response body - credential exposure risk","description":"Phase 3.3 proposes GET /auth returning {client_id, client_secret} in response. Even localhost-only, this means:\\n1. Client secret visible in browser DevTools Network tab\\n2. Logged in any request logging middleware\\n3. Cached in browser history if URL has query params\\n4. Violates OAuth2 best practice where client_secret should never be transmitted to browser","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T16:37:14.5876548-05:00","updated_at":"2026-01-25T17:20:35.1823183-05:00","closed_at":"2026-01-25T17:20:35.1823183-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-l9f","title":"SPEC-GAP: Missing client identification mechanism in OAuth flow","description":"Phase 3.3 says 'Generates new credentials if none exist for this client' but doesn't specify:\\n1. How is 'this client' identified on first visit?\\n2. Is it by Origin header? User-Agent? IP?\\n3. What prevents credential farming (attacker generating many credentials)?\\n4. How does server correlate localStorage client_id with server-side record?","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:38:04.104375-05:00","updated_at":"2026-01-25T17:20:56.9974362-05:00","closed_at":"2026-01-25T17:20:56.9974362-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-m1i","title":"2.3.3: Gemini provider","description":"Implement Google Gemini provider.\n\nDetection: generativelanguage.googleapis.com\n\nUsage parsing:\n- promptTokenCount, candidatesTokenCount\n- Different JSON structure\n\nPricing: Gemini Pro, Gemini Ultra rates\n\nBlocked by: langley-vdn (base abstraction)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T01:04:05.0425029-05:00","updated_at":"2026-01-25T07:33:03.9403328-05:00","closed_at":"2026-01-25T07:33:03.9403328-05:00","close_reason":"Gemini provider implemented. Host detection, JSON and SSE parsing (promptTokenCount/candidatesTokenCount), model version extraction. Tests passing.","labels":["phase2","provider"]}
{"id":"langley-mlj","title":"Export UI shows misleading row count (client-side max 50)","description":"Export confirmation shows filteredFlows.length which is capped at 50 from /api/flows?limit=50. User sees 'Export 50 flows' but export may return thousands.\n\nLocation: web/src/App.tsx:385, 1013-1014\n\nOptions:\n1. Fetch actual count from server before showing confirmation\n2. Add /api/flows/count endpoint\n3. Remove count from UI, just say 'Export matching flows'\n4. Show 'Export up to X flows' with caveat\n\nTDD approach:\n1. Write Playwright test that verifies count shown matches actual export\n2. Implement server-side count or fix UI\n3. Test passes\n\nAcceptance: Export confirmation accurately reflects what will be exported","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T15:48:35.3128318-05:00","updated_at":"2026-01-25T16:06:41.4472389-05:00","closed_at":"2026-01-25T16:06:41.4472389-05:00","close_reason":"Closed"}
{"id":"langley-nln","title":"3.1.3 UX Review: Analytics view","description":"Verify Analytics view features:\n\nA1: Stats cards (6 cards display)\nA2: Total Flows count (correct, updates on new flow)\nA3: Total Cost (formatted, $0.00 when none)\nA4: Total Tokens (In + Out combined, formatted with commas)\nA5: Tasks count (correct, zero tasks)\nA6: Tool Calls count (correct, zero tools)\nA7: Avg Cost/Flow (calculated correctly, division by zero)\nA8: Daily cost chart (bar chart renders, no data → message)\nA9: Chart bar heights (proportional to max, single day)\n\nAcceptance:\n- Manual verification of each feature\n- Document bugs as beads\n- Playwright test coverage","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-25T16:48:48.5003018-05:00","updated_at":"2026-01-25T17:32:14.0292627-05:00"}
{"id":"langley-oy7","title":"MEDIUM: Error messages may leak internal paths and stack traces","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:21:27.3911293-05:00","updated_at":"2026-01-24T18:43:14.9329177-05:00","closed_at":"2026-01-24T18:43:14.9329177-05:00","close_reason":"Not an issue. Error messages use %w wrapping with generic context (e.g., 'listen: %w', 'config is required'). No stack traces or internal paths exposed."}
{"id":"langley-oy9","title":"HIGH: Langley design specifies raw body storage flag default OFF but no enforcement mechanism","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T07:20:26.3791379-05:00","updated_at":"2026-01-24T18:48:45.9035537-05:00","closed_at":"2026-01-24T18:48:45.9035537-05:00","close_reason":"Fixed. Added ShouldStoreRawBody() check in mitm.go before storing request/response bodies. When RawBodyStorage=false (default), bodies are not stored. Test added: TestMITMProxy_RawBodyStorageOff"}
{"id":"langley-r0t","title":"LOW: Node-forge dependency is a known audit target for cryptographic implementations","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-24T07:21:48.1077655-05:00","updated_at":"2026-01-24T16:16:05.6623647-05:00","closed_at":"2026-01-24T16:16:05.6623647-05:00","close_reason":"N/A - Langley is Go-based, not Node/Node-forge"}
{"id":"langley-r7q","title":"MEDIUM: Console logging may persist sensitive data to log files","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:21:33.8396906-05:00","updated_at":"2026-01-24T18:44:15.3104024-05:00","closed_at":"2026-01-24T18:44:15.3104024-05:00","close_reason":"Not an issue. Logging is secure: auth failures log token LENGTH not value (api.go:126), config reload logs whether token changed as boolean (api.go:713). No sensitive data logged."}
{"id":"langley-rpg","title":"2.4.4: Implement export flows as CSV/JSON","description":"Implement flow export per .docs/spikes/export-flows.md:\n- NDJSON streaming for large exports\n- Summary (default) vs full (with bodies) modes\n- API endpoint: GET /api/flows/export\n- Uses existing filters + format/include_bodies params\n- ~300 LOC\n\nFollows from spike in langley-su1.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T07:41:17.2983434-05:00","updated_at":"2026-01-25T10:57:32.9643413-05:00","closed_at":"2026-01-25T10:57:32.9643413-05:00","close_reason":"Split into 3 smaller tasks: langley-3d4 (NDJSON endpoint), langley-boc (format abstraction), langley-2kp (frontend UI)","labels":["api","phase2"]}
{"id":"langley-su1","title":"2.4.4: Export flows as CSV/JSON","description":"Research spike to find right setup.\n\nGoal: Allow users to download captured flows for external analysis.\n\nQuestions to answer:\n- What fields to include in export?\n- Streaming export for large datasets vs in-memory?\n- Frontend download trigger vs API endpoint?\n- Date range / filter support?\n- How to handle large response bodies?\n\nAcceptance: Document approach, define API contract.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:04:17.0736123-05:00","updated_at":"2026-01-24T18:29:16.9036823-05:00","closed_at":"2026-01-24T18:29:16.9036823-05:00","close_reason":"Spike complete. Documented in .docs/spikes/export-flows.md. Key decisions: NDJSON streaming for large exports, summary (default) vs full (with bodies) modes, API endpoint at GET /api/flows/export with existing filters + format/include_bodies params. ~300 LOC to implement.","labels":["phase2","spike"]}
{"id":"langley-sun","title":"3.1.7 UX Review: Settings view","description":"Verify Settings view features:\n\nS1: Idle gap setting (change value, save; invalid value 0/negative)\nS2: Save button (saves to server, failure → error message)\nS3: Current value load (shows current setting, server unreachable)\n\nAcceptance:\n- Manual verification of each feature\n- Document bugs as beads\n- Playwright test coverage","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-25T16:49:44.5478354-05:00","updated_at":"2026-01-25T17:32:35.9373208-05:00"}
{"id":"langley-ttz","title":"CORS: localhost origin check doesn't validate port - localhost:9999 allowed","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-24T12:25:05.4908724-05:00","updated_at":"2026-01-24T18:45:34.5303988-05:00","closed_at":"2026-01-24T18:45:34.5303988-05:00","close_reason":"By design. All localhost origins trusted since this is a local dev tool. Port doesn't matter - any localhost app is presumed trusted."}
{"id":"langley-u6n","title":"2.5: Documentation and Release","description":"Implement then Reba review.\n\nScope from PHASE2.md:\n- 2.5.1: Architecture doc (for contributors)\n- 2.5.2: API reference (OpenAPI spec)\n- 2.5.3: Troubleshooting guide (common issues)\n- 2.5.4: Release binaries (goreleaser: Win/Mac/Linux) + version injection\n- 2.5.5: Homebrew formula / Scoop manifest\n- 2.5.6: Update blog with Phase 2 features\n\nVersion injection required:\n```bash\ngo build -ldflags \"-X main.Version=$(git describe --tags --always) ...\"\n```\n\nAcceptance: User can install and run in \u003c 5 minutes on any platform.\nReba validates docs accuracy and release artifacts.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:14:24.1214449-05:00","updated_at":"2026-01-25T14:34:46.0279759-05:00","closed_at":"2026-01-25T14:34:46.0279759-05:00","close_reason":"README updated with Phase 2 features. Architecture doc, OpenAPI, troubleshooting guide deferred to Phase 3.","labels":["docs","phase2","reba-review"]}
{"id":"langley-v49","title":"DATA EXPOSURE: Request/response bodies stored in SQLite without encryption at rest","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T12:24:35.098993-05:00","updated_at":"2026-01-24T18:44:30.1924865-05:00","closed_at":"2026-01-24T18:44:30.1924865-05:00","close_reason":"Acceptable for local dev tool. Bodies are protected by: 1) File permissions (0600 on DB), 2) Redaction of API keys/secrets before storage. Encryption at rest is nice-to-have, not critical for single-user local proxy."}
{"id":"langley-vdn","title":"2.3.0: Provider interface + Anthropic extraction","description":"Base abstraction for multi-provider support.\n\n1. Define Provider interface in internal/provider/provider.go:\n   - DetectProvider(host string) bool\n   - ParseUsage(body []byte, isSSE bool) (*Usage, error)\n   - GetPricing(model string) (*Pricing, error)\n   - Name() string\n\n2. Extract current Anthropic logic from mitm.go into internal/provider/anthropic.go\n\n3. Create provider registry that selects provider by host\n\n4. Wire into mitm.go - replace hardcoded Anthropic logic with registry lookup\n\nUnblocks: OpenAI, Bedrock, Gemini providers","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T01:03:25.1948949-05:00","updated_at":"2026-01-25T03:32:17.36398-05:00","closed_at":"2026-01-25T03:32:17.36398-05:00","close_reason":"Complete. Provider interface defined, Anthropic implementation extracted, registry wired into mitm.go. Dead code removed. Tests added and passing.","labels":["phase2","provider"]}
{"id":"langley-vu5","title":"CRITICAL: Go uTLS binary uses InsecureSkipVerify for ALL upstream connections","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-24T07:19:30.8037216-05:00","updated_at":"2026-01-24T16:14:11.2356439-05:00","closed_at":"2026-01-24T16:14:11.2356439-05:00","close_reason":"Fixed - InsecureSkipVerify: false"}
{"id":"langley-vvk","title":"MEDIUM: No rate limiting on API endpoints - DoS via excessive requests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:21:14.3694264-05:00","updated_at":"2026-01-24T16:15:08.0294854-05:00","closed_at":"2026-01-24T16:15:08.0294854-05:00","close_reason":"Fixed in Phase 2.2.9 - Token bucket rate limiter"}
{"id":"langley-wfw","title":"DB schema rejects openai/gemini providers","description":"flows.provider CHECK constraint only allows 'anthropic|bedrock|other'. OpenAI and Gemini providers will fail on insert.\n\nLocation: internal/store/sqlite.go:166\n\nTDD approach:\n1. Write test that inserts flow with provider='openai' - should fail now\n2. Write test that inserts flow with provider='gemini' - should fail now\n3. Fix CHECK constraint to include 'openai' and 'gemini'\n4. Tests pass\n\nAcceptance: Can insert flows with all 5 provider values (anthropic, openai, bedrock, gemini, other)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-25T15:47:40.9351259-05:00","updated_at":"2026-01-25T16:01:36.7192937-05:00","closed_at":"2026-01-25T16:01:36.7192937-05:00","close_reason":"Closed"}
{"id":"langley-wll","title":"SEC-MEDIUM: No client credential rotation mechanism specified","description":"Phase 3.3 lacks specification for:\\n1. How to rotate compromised client credentials\\n2. Client credential lifecycle management\\n3. What happens when user clears localStorage - new credentials generated?\\n4. Maximum number of active client registrations per server","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:37:26.3878249-05:00","updated_at":"2026-01-25T17:21:07.8772684-05:00","closed_at":"2026-01-25T17:21:07.8772684-05:00","close_reason":"Obsolete: OAuth design replaced with Origin + Cookie auth"}
{"id":"langley-wz9","title":"OBSERVATION: Langley is design-only - no implementation code exists yet","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T07:22:33.2553065-05:00","updated_at":"2026-01-24T16:15:35.602206-05:00","closed_at":"2026-01-24T16:15:35.602206-05:00","close_reason":"Implementation exists - langley is no longer design-only"}
{"id":"langley-xj8","title":"2.3.1: OpenAI provider","description":"Implement OpenAI provider.\n\nDetection: api.openai.com\n\nUsage parsing:\n- prompt_tokens, completion_tokens (not input/output)\n- No cache tokens\n- SSE: data: [DONE] marker\n\nPricing: GPT-4o, GPT-4-turbo, GPT-3.5-turbo rates\n\nBlocked by: langley-vdn (base abstraction)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T01:03:39.7882136-05:00","updated_at":"2026-01-25T07:24:44.9442424-05:00","closed_at":"2026-01-25T07:24:44.9442424-05:00","close_reason":"OpenAI provider implemented with host detection (openai.com), JSON and SSE parsing (prompt_tokens/completion_tokens), tests passing.","labels":["phase2","provider"]}
{"id":"langley-xmg","title":"2.4.1: Embed frontend with go:embed","description":"Research spike to find right setup.\n\nGoal: Single binary that serves the React dashboard without needing separate frontend build/serve.\n\nQuestions to answer:\n- How to integrate Vite build output with go:embed?\n- Build-time vs runtime embedding tradeoffs?\n- How to handle dev mode (hot reload) vs prod mode (embedded)?\n- What's the standard pattern in Go web apps?\n\nAcceptance: Document approach, prototype works.","notes":"COMPLETE: Frontend embedded with go:embed. Single binary serves dashboard at /. API at /api/*. 18MB binary includes React app. Tests added.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:04:02.0743494-05:00","updated_at":"2026-01-24T18:21:16.8711554-05:00","closed_at":"2026-01-24T18:21:16.8711554-05:00","labels":["phase2","spike"]}
{"id":"langley-xpi","title":"CRITICAL: CA private key stored without encryption or file permissions","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-24T07:19:24.3023494-05:00","updated_at":"2026-01-24T18:35:28.544378-05:00","closed_at":"2026-01-24T18:35:28.544378-05:00","close_reason":"File permissions already implemented: 0600 on ca.key, 0700 on certs dir (internal/tls/ca.go:52,192). Encryption at rest is nice-to-have for local dev tool, not critical. Bead title was inaccurate."}
{"id":"langley-ykg","title":"REDACTION GAP: No redaction for OpenAI API key format (sk-proj-*, sk-svcacct-*)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T12:22:57.2771922-05:00","updated_at":"2026-01-24T16:14:51.6214063-05:00","closed_at":"2026-01-24T16:14:51.6214063-05:00","close_reason":"Fixed in Phase 2.2.3 - OpenAI patterns sk-proj-*, sk-svcacct-*"}
{"id":"langley-yni","title":"HIGH: No authentication on WebSocket or REST API endpoints","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T07:19:44.8358458-05:00","updated_at":"2026-01-24T16:15:30.1243153-05:00","closed_at":"2026-01-24T16:15:30.1243153-05:00","close_reason":"Fixed - Bearer token auth on API and WebSocket"}
{"id":"langley-zql","title":"REDACTION GAP: No redaction for Bedrock/AWS credentials (AKIA*, aws_secret_access_key)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-24T12:23:06.8980353-05:00","updated_at":"2026-01-24T16:14:46.1583928-05:00","closed_at":"2026-01-24T16:14:46.1583928-05:00","close_reason":"Fixed in Phase 2.2.4 - x-amz-security-token added"}
